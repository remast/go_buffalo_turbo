<script>
  function connectTurbo() {
    Turbo.connectStreamSource(new EventSource("/events?stream=messages"));
  }

</script>
  <h2>Feed (with Server Sent Events)</h2>

  <button type="button" class="btn btn-primary" onclick="connectTurbo()">Connect SSE</button>

  <turbo-frame class="col-4" id="feed-frame-sse">
    <%= for (feed) in feeds { %>
    <div class="card">
      <div class="card-body">
        <%= feed %>
      </div>
    </div>
    <% } %>

      <nav aria-label="Page navigation example">
        <ul class="pagination">
          <li class="page-item"><a class="page-link" href="/feed?previous=10">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
            </a></li>
          <li class="page-item">
            <a class="page-link" href="/feed?next=10">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
            </a>
          </li>
        </ul>
      </nav>
</turbo-frame>